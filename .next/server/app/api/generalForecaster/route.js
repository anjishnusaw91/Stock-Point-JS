"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generalForecaster/route";
exports.ids = ["app/api/generalForecaster/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgeneralForecaster%2Froute&page=%2Fapi%2FgeneralForecaster%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgeneralForecaster%2Froute.ts&appDir=E%3A%5CStock-App-JS%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CStock-App-JS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgeneralForecaster%2Froute&page=%2Fapi%2FgeneralForecaster%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgeneralForecaster%2Froute.ts&appDir=E%3A%5CStock-App-JS%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CStock-App-JS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Stock_App_JS_app_api_generalForecaster_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/generalForecaster/route.ts */ \"(rsc)/./app/api/generalForecaster/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generalForecaster/route\",\n        pathname: \"/api/generalForecaster\",\n        filename: \"route\",\n        bundlePath: \"app/api/generalForecaster/route\"\n    },\n    resolvedPagePath: \"E:\\\\Stock-App-JS\\\\app\\\\api\\\\generalForecaster\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_Stock_App_JS_app_api_generalForecaster_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generalForecaster/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmFsRm9yZWNhc3RlciUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhbEZvcmVjYXN0ZXIlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmFsRm9yZWNhc3RlciUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDU3RvY2stQXBwLUpTJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDU3RvY2stQXBwLUpTJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNPO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RvY2stcG9pbnQvP2M4NzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcU3RvY2stQXBwLUpTXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhbEZvcmVjYXN0ZXJcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYWxGb3JlY2FzdGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhbEZvcmVjYXN0ZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYWxGb3JlY2FzdGVyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcU3RvY2stQXBwLUpTXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhbEZvcmVjYXN0ZXJcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYWxGb3JlY2FzdGVyL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgeneralForecaster%2Froute&page=%2Fapi%2FgeneralForecaster%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgeneralForecaster%2Froute.ts&appDir=E%3A%5CStock-App-JS%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CStock-App-JS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/generalForecaster/route.ts":
/*!********************************************!*\
  !*** ./app/api/generalForecaster/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var yahoo_finance2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yahoo-finance2 */ \"(rsc)/./node_modules/yahoo-finance2/dist/esm/src/index-node.js\");\n\n\n// Helper function to calculate standard deviation\nfunction calculateStandardDeviation(values) {\n    const mean = values.reduce((a, b)=>a + b, 0) / values.length;\n    const squaredDiffs = values.map((value)=>Math.pow(value - mean, 2));\n    return Math.sqrt(squaredDiffs.reduce((a, b)=>a + b, 0) / values.length);\n}\n// Helper function to calculate mean\nfunction calculateMean(values) {\n    return values.reduce((a, b)=>a + b, 0) / values.length;\n}\nfunction calculateMetrics(actual, predicted) {\n    try {\n        // Filter out null values and get corresponding actual values\n        const validPairs = predicted.map((pred, i)=>({\n                pred,\n                actual: actual[i]\n            })).filter((pair)=>pair.pred !== null);\n        const actualValues = validPairs.map((pair)=>pair.actual);\n        const predictedValues = validPairs.map((pair)=>pair.pred);\n        if (predictedValues.length === 0) {\n            return {\n                accuracy: 0,\n                confidence: 0,\n                rmse: 0\n            };\n        }\n        // Calculate RMSE\n        const squaredErrors = predictedValues.map((pred, i)=>Math.pow(pred - actualValues[i], 2));\n        const rmse = Math.sqrt(squaredErrors.reduce((a, b)=>a + b, 0) / predictedValues.length);\n        // Calculate accuracy as percentage of predictions within 2% of actual value\n        const accurateCount = predictedValues.filter((pred, i)=>Math.abs(pred - actualValues[i]) / actualValues[i] <= 0.02).length;\n        const accuracy = accurateCount / predictedValues.length * 100;\n        // Calculate confidence based on recent prediction accuracy and trend stability\n        const recentActual = actualValues.slice(-5);\n        const recentPredicted = predictedValues.slice(-5);\n        const recentAccuracy = recentPredicted.filter((pred, i)=>Math.abs(pred - recentActual[i]) / recentActual[i] <= 0.02).length / recentActual.length;\n        // Calculate trend stability using standard deviation\n        const stdDev = calculateStandardDeviation(recentActual);\n        const mean = calculateMean(recentActual);\n        const trendStability = mean === 0 ? 0 : 1 - stdDev / mean;\n        // Calculate final confidence score\n        const confidence = Math.min(Math.max((recentAccuracy * 0.7 + Math.max(trendStability, 0) * 0.3) * 100, 0), 100);\n        return {\n            accuracy: Number(accuracy.toFixed(2)),\n            confidence: Number(confidence.toFixed(2)),\n            rmse: Number(rmse.toFixed(2))\n        };\n    } catch (error) {\n        console.error(\"Error calculating metrics:\", error);\n        return {\n            accuracy: 0,\n            confidence: 0,\n            rmse: 0\n        };\n    }\n}\nasync function POST(req) {\n    try {\n        const { symbol, days = 4 } = await req.json(); // Default to 4 days if not specified\n        if (!symbol) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Symbol is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate prediction days\n        const predictionDays = Math.min(Math.max(1, Number(days)), 30); // Limit between 1 and 30 days\n        // Fetch historical data\n        const historicalData = await yahoo_finance2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].historical(symbol, {\n            period1: new Date(Date.now() - 180 * 24 * 60 * 60 * 1000),\n            period2: new Date(),\n            interval: \"1d\"\n        });\n        if (!historicalData || historicalData.length === 0) {\n            throw new Error(\"No data received from Yahoo Finance\");\n        }\n        // Get last 30 days for historical display\n        const last30Days = historicalData.slice(-30);\n        const prices = last30Days.map((day)=>day.close);\n        // Calculate training predictions for historical data\n        const trainingPredictions = prices.map((_, index)=>{\n            if (index < 5) return null;\n            const prevPrices = prices.slice(index - 5, index);\n            const sma5 = prevPrices.reduce((a, b)=>a + b, 0) / 5;\n            const sma10 = index >= 10 ? prices.slice(index - 10, index).reduce((a, b)=>a + b, 0) / 10 : sma5;\n            const trend = sma5 > sma10 ? 1.001 : 0.999;\n            return prices[index - 1] * trend;\n        });\n        // Calculate metrics\n        const metrics = calculateMetrics(prices, trainingPredictions);\n        // Calculate future predictions with confidence adjustment\n        const lastPrice = prices[prices.length - 1];\n        const sma5 = prices.slice(-5).reduce((a, b)=>a + b, 0) / 5;\n        const sma10 = prices.slice(-10).reduce((a, b)=>a + b, 0) / 10;\n        const trend = sma5 > sma10 ? 1.001 : 0.999;\n        // Adjust trend based on confidence\n        const confidenceAdjustedTrend = trend * (Math.max(metrics.confidence, 50) / 100);\n        // Generate forecast for specified number of days\n        const forecast = Array(predictionDays).fill(0).map((_, i)=>lastPrice * Math.pow(confidenceAdjustedTrend, i + 1));\n        // Generate forecast dates for specified number of days\n        const lastDate = last30Days[last30Days.length - 1].date;\n        const forecastDates = Array(predictionDays).fill(0).map((_, i)=>{\n            const date = new Date(lastDate);\n            date.setDate(date.getDate() + i + 1);\n            return date.toISOString().split(\"T\")[0];\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            forecast: {\n                dates: forecastDates,\n                prices: forecast\n            },\n            historical: {\n                dates: last30Days.map((day)=>day.date.toISOString().split(\"T\")[0]),\n                prices: last30Days.map((day)=>day.close),\n                predictions: trainingPredictions\n            },\n            metrics: {\n                accuracy: metrics.accuracy,\n                confidence: metrics.confidence,\n                rmse: metrics.rmse,\n                predictionDays: predictionDays\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in forecast generation:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Failed to generate forecast\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VFAsT0FBT0EsaUJBQWlCaUIsUUFBUWpCLE1BQU00QyxPQUFPLEdBQUc7UUFDbEQsR0FDQTtZQUFFcEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdG9jay1wb2ludC8uL2FwcC9hcGkvZ2VuZXJhbEZvcmVjYXN0ZXIvcm91dGUudHM/NDE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeWFob29GaW5hbmNlIGZyb20gJ3lhaG9vLWZpbmFuY2UyJztcblxuaW50ZXJmYWNlIFByZWRpY3Rpb25NZXRyaWNzIHtcbiAgYWNjdXJhY3k6IG51bWJlcjtcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xuICBybXNlOiBudW1iZXI7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjYWxjdWxhdGUgc3RhbmRhcmQgZGV2aWF0aW9uXG5mdW5jdGlvbiBjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbih2YWx1ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgY29uc3QgbWVhbiA9IHZhbHVlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IHNxdWFyZWREaWZmcyA9IHZhbHVlcy5tYXAodmFsdWUgPT4gTWF0aC5wb3codmFsdWUgLSBtZWFuLCAyKSk7XG4gIHJldHVybiBNYXRoLnNxcnQoc3F1YXJlZERpZmZzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdmFsdWVzLmxlbmd0aCk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjYWxjdWxhdGUgbWVhblxuZnVuY3Rpb24gY2FsY3VsYXRlTWVhbih2YWx1ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHZhbHVlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU1ldHJpY3MoYWN0dWFsOiBudW1iZXJbXSwgcHJlZGljdGVkOiAobnVtYmVyIHwgbnVsbClbXSk6IFByZWRpY3Rpb25NZXRyaWNzIHtcbiAgdHJ5IHtcbiAgICAvLyBGaWx0ZXIgb3V0IG51bGwgdmFsdWVzIGFuZCBnZXQgY29ycmVzcG9uZGluZyBhY3R1YWwgdmFsdWVzXG4gICAgY29uc3QgdmFsaWRQYWlycyA9IHByZWRpY3RlZC5tYXAoKHByZWQsIGkpID0+ICh7IHByZWQsIGFjdHVhbDogYWN0dWFsW2ldIH0pKVxuICAgICAgLmZpbHRlcihwYWlyID0+IHBhaXIucHJlZCAhPT0gbnVsbCk7XG4gICAgXG4gICAgY29uc3QgYWN0dWFsVmFsdWVzID0gdmFsaWRQYWlycy5tYXAocGFpciA9PiBwYWlyLmFjdHVhbCk7XG4gICAgY29uc3QgcHJlZGljdGVkVmFsdWVzID0gdmFsaWRQYWlycy5tYXAocGFpciA9PiBwYWlyLnByZWQgYXMgbnVtYmVyKTtcblxuICAgIGlmIChwcmVkaWN0ZWRWYWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2N1cmFjeTogMCxcbiAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgcm1zZTogMFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgUk1TRVxuICAgIGNvbnN0IHNxdWFyZWRFcnJvcnMgPSBwcmVkaWN0ZWRWYWx1ZXMubWFwKChwcmVkLCBpKSA9PiBcbiAgICAgIE1hdGgucG93KHByZWQgLSBhY3R1YWxWYWx1ZXNbaV0sIDIpXG4gICAgKTtcbiAgICBjb25zdCBybXNlID0gTWF0aC5zcXJ0KHNxdWFyZWRFcnJvcnMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBwcmVkaWN0ZWRWYWx1ZXMubGVuZ3RoKTtcblxuICAgIC8vIENhbGN1bGF0ZSBhY2N1cmFjeSBhcyBwZXJjZW50YWdlIG9mIHByZWRpY3Rpb25zIHdpdGhpbiAyJSBvZiBhY3R1YWwgdmFsdWVcbiAgICBjb25zdCBhY2N1cmF0ZUNvdW50ID0gcHJlZGljdGVkVmFsdWVzLmZpbHRlcigocHJlZCwgaSkgPT4gXG4gICAgICBNYXRoLmFicyhwcmVkIC0gYWN0dWFsVmFsdWVzW2ldKSAvIGFjdHVhbFZhbHVlc1tpXSA8PSAwLjAyXG4gICAgKS5sZW5ndGg7XG4gICAgY29uc3QgYWNjdXJhY3kgPSAoYWNjdXJhdGVDb3VudCAvIHByZWRpY3RlZFZhbHVlcy5sZW5ndGgpICogMTAwO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGNvbmZpZGVuY2UgYmFzZWQgb24gcmVjZW50IHByZWRpY3Rpb24gYWNjdXJhY3kgYW5kIHRyZW5kIHN0YWJpbGl0eVxuICAgIGNvbnN0IHJlY2VudEFjdHVhbCA9IGFjdHVhbFZhbHVlcy5zbGljZSgtNSk7XG4gICAgY29uc3QgcmVjZW50UHJlZGljdGVkID0gcHJlZGljdGVkVmFsdWVzLnNsaWNlKC01KTtcblxuICAgIGNvbnN0IHJlY2VudEFjY3VyYWN5ID0gcmVjZW50UHJlZGljdGVkLmZpbHRlcigocHJlZCwgaSkgPT4gXG4gICAgICBNYXRoLmFicyhwcmVkIC0gcmVjZW50QWN0dWFsW2ldKSAvIHJlY2VudEFjdHVhbFtpXSA8PSAwLjAyXG4gICAgKS5sZW5ndGggLyByZWNlbnRBY3R1YWwubGVuZ3RoO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRyZW5kIHN0YWJpbGl0eSB1c2luZyBzdGFuZGFyZCBkZXZpYXRpb25cbiAgICBjb25zdCBzdGREZXYgPSBjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbihyZWNlbnRBY3R1YWwpO1xuICAgIGNvbnN0IG1lYW4gPSBjYWxjdWxhdGVNZWFuKHJlY2VudEFjdHVhbCk7XG4gICAgY29uc3QgdHJlbmRTdGFiaWxpdHkgPSBtZWFuID09PSAwID8gMCA6IDEgLSAoc3RkRGV2IC8gbWVhbik7XG5cbiAgICAvLyBDYWxjdWxhdGUgZmluYWwgY29uZmlkZW5jZSBzY29yZVxuICAgIGNvbnN0IGNvbmZpZGVuY2UgPSBNYXRoLm1pbihcbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAoKHJlY2VudEFjY3VyYWN5ICogMC43ICsgTWF0aC5tYXgodHJlbmRTdGFiaWxpdHksIDApICogMC4zKSAqIDEwMCksXG4gICAgICAgIDBcbiAgICAgICksXG4gICAgICAxMDBcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFjY3VyYWN5OiBOdW1iZXIoYWNjdXJhY3kudG9GaXhlZCgyKSksXG4gICAgICBjb25maWRlbmNlOiBOdW1iZXIoY29uZmlkZW5jZS50b0ZpeGVkKDIpKSxcbiAgICAgIHJtc2U6IE51bWJlcihybXNlLnRvRml4ZWQoMikpLFxuICAgIH07XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYWxjdWxhdGluZyBtZXRyaWNzOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgYWNjdXJhY3k6IDAsXG4gICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgcm1zZTogMFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzeW1ib2wsIGRheXMgPSA0IH0gPSBhd2FpdCByZXEuanNvbigpOyAvLyBEZWZhdWx0IHRvIDQgZGF5cyBpZiBub3Qgc3BlY2lmaWVkXG5cbiAgICBpZiAoIXN5bWJvbCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1N5bWJvbCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHByZWRpY3Rpb24gZGF5c1xuICAgIGNvbnN0IHByZWRpY3Rpb25EYXlzID0gTWF0aC5taW4oTWF0aC5tYXgoMSwgTnVtYmVyKGRheXMpKSwgMzApOyAvLyBMaW1pdCBiZXR3ZWVuIDEgYW5kIDMwIGRheXNcblxuICAgIC8vIEZldGNoIGhpc3RvcmljYWwgZGF0YVxuICAgIGNvbnN0IGhpc3RvcmljYWxEYXRhID0gYXdhaXQgeWFob29GaW5hbmNlLmhpc3RvcmljYWwoc3ltYm9sLCB7XG4gICAgICBwZXJpb2QxOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gKDE4MCAqIDI0ICogNjAgKiA2MCAqIDEwMDApKSxcbiAgICAgIHBlcmlvZDI6IG5ldyBEYXRlKCksXG4gICAgICBpbnRlcnZhbDogJzFkJyxcbiAgICB9KTtcblxuICAgIGlmICghaGlzdG9yaWNhbERhdGEgfHwgaGlzdG9yaWNhbERhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRhdGEgcmVjZWl2ZWQgZnJvbSBZYWhvbyBGaW5hbmNlJyk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGxhc3QgMzAgZGF5cyBmb3IgaGlzdG9yaWNhbCBkaXNwbGF5XG4gICAgY29uc3QgbGFzdDMwRGF5cyA9IGhpc3RvcmljYWxEYXRhLnNsaWNlKC0zMCk7XG4gICAgY29uc3QgcHJpY2VzID0gbGFzdDMwRGF5cy5tYXAoZGF5ID0+IGRheS5jbG9zZSk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHRyYWluaW5nIHByZWRpY3Rpb25zIGZvciBoaXN0b3JpY2FsIGRhdGFcbiAgICBjb25zdCB0cmFpbmluZ1ByZWRpY3Rpb25zID0gcHJpY2VzLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA8IDUpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgcHJldlByaWNlcyA9IHByaWNlcy5zbGljZShpbmRleCAtIDUsIGluZGV4KTtcbiAgICAgIGNvbnN0IHNtYTUgPSBwcmV2UHJpY2VzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gNTtcbiAgICAgIGNvbnN0IHNtYTEwID0gaW5kZXggPj0gMTAgXG4gICAgICAgID8gcHJpY2VzLnNsaWNlKGluZGV4IC0gMTAsIGluZGV4KS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIDEwIFxuICAgICAgICA6IHNtYTU7XG4gICAgICBjb25zdCB0cmVuZCA9IHNtYTUgPiBzbWExMCA/IDEuMDAxIDogMC45OTk7XG4gICAgICByZXR1cm4gcHJpY2VzW2luZGV4IC0gMV0gKiB0cmVuZDtcbiAgICB9KTtcblxuICAgIC8vIENhbGN1bGF0ZSBtZXRyaWNzXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZU1ldHJpY3MocHJpY2VzLCB0cmFpbmluZ1ByZWRpY3Rpb25zKTtcblxuICAgIC8vIENhbGN1bGF0ZSBmdXR1cmUgcHJlZGljdGlvbnMgd2l0aCBjb25maWRlbmNlIGFkanVzdG1lbnRcbiAgICBjb25zdCBsYXN0UHJpY2UgPSBwcmljZXNbcHJpY2VzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHNtYTUgPSBwcmljZXMuc2xpY2UoLTUpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gNTtcbiAgICBjb25zdCBzbWExMCA9IHByaWNlcy5zbGljZSgtMTApLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gMTA7XG4gICAgY29uc3QgdHJlbmQgPSBzbWE1ID4gc21hMTAgPyAxLjAwMSA6IDAuOTk5O1xuICAgIFxuICAgIC8vIEFkanVzdCB0cmVuZCBiYXNlZCBvbiBjb25maWRlbmNlXG4gICAgY29uc3QgY29uZmlkZW5jZUFkanVzdGVkVHJlbmQgPSB0cmVuZCAqIChNYXRoLm1heChtZXRyaWNzLmNvbmZpZGVuY2UsIDUwKSAvIDEwMCk7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgZm9yZWNhc3QgZm9yIHNwZWNpZmllZCBudW1iZXIgb2YgZGF5c1xuICAgIGNvbnN0IGZvcmVjYXN0ID0gQXJyYXkocHJlZGljdGlvbkRheXMpLmZpbGwoMCkubWFwKChfLCBpKSA9PiBcbiAgICAgIGxhc3RQcmljZSAqIE1hdGgucG93KGNvbmZpZGVuY2VBZGp1c3RlZFRyZW5kLCBpICsgMSlcbiAgICApO1xuXG4gICAgLy8gR2VuZXJhdGUgZm9yZWNhc3QgZGF0ZXMgZm9yIHNwZWNpZmllZCBudW1iZXIgb2YgZGF5c1xuICAgIGNvbnN0IGxhc3REYXRlID0gbGFzdDMwRGF5c1tsYXN0MzBEYXlzLmxlbmd0aCAtIDFdLmRhdGU7XG4gICAgY29uc3QgZm9yZWNhc3REYXRlcyA9IEFycmF5KHByZWRpY3Rpb25EYXlzKS5maWxsKDApLm1hcCgoXywgaSkgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGxhc3REYXRlKTtcbiAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGkgKyAxKTtcbiAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZm9yZWNhc3Q6IHtcbiAgICAgICAgZGF0ZXM6IGZvcmVjYXN0RGF0ZXMsXG4gICAgICAgIHByaWNlczogZm9yZWNhc3QsXG4gICAgICB9LFxuICAgICAgaGlzdG9yaWNhbDoge1xuICAgICAgICBkYXRlczogbGFzdDMwRGF5cy5tYXAoZGF5ID0+IGRheS5kYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSksXG4gICAgICAgIHByaWNlczogbGFzdDMwRGF5cy5tYXAoZGF5ID0+IGRheS5jbG9zZSksXG4gICAgICAgIHByZWRpY3Rpb25zOiB0cmFpbmluZ1ByZWRpY3Rpb25zLFxuICAgICAgfSxcbiAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgYWNjdXJhY3k6IG1ldHJpY3MuYWNjdXJhY3ksXG4gICAgICAgIGNvbmZpZGVuY2U6IG1ldHJpY3MuY29uZmlkZW5jZSxcbiAgICAgICAgcm1zZTogbWV0cmljcy5ybXNlLFxuICAgICAgICBwcmVkaWN0aW9uRGF5czogcHJlZGljdGlvbkRheXMsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZm9yZWNhc3QgZ2VuZXJhdGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGZvcmVjYXN0JyBcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ5YWhvb0ZpbmFuY2UiLCJjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbiIsInZhbHVlcyIsIm1lYW4iLCJyZWR1Y2UiLCJhIiwiYiIsImxlbmd0aCIsInNxdWFyZWREaWZmcyIsIm1hcCIsInZhbHVlIiwiTWF0aCIsInBvdyIsInNxcnQiLCJjYWxjdWxhdGVNZWFuIiwiY2FsY3VsYXRlTWV0cmljcyIsImFjdHVhbCIsInByZWRpY3RlZCIsInZhbGlkUGFpcnMiLCJwcmVkIiwiaSIsImZpbHRlciIsInBhaXIiLCJhY3R1YWxWYWx1ZXMiLCJwcmVkaWN0ZWRWYWx1ZXMiLCJhY2N1cmFjeSIsImNvbmZpZGVuY2UiLCJybXNlIiwic3F1YXJlZEVycm9ycyIsImFjY3VyYXRlQ291bnQiLCJhYnMiLCJyZWNlbnRBY3R1YWwiLCJzbGljZSIsInJlY2VudFByZWRpY3RlZCIsInJlY2VudEFjY3VyYWN5Iiwic3RkRGV2IiwidHJlbmRTdGFiaWxpdHkiLCJtaW4iLCJtYXgiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZXJyb3IiLCJjb25zb2xlIiwiUE9TVCIsInJlcSIsInN5bWJvbCIsImRheXMiLCJqc29uIiwic3VjY2VzcyIsInN0YXR1cyIsInByZWRpY3Rpb25EYXlzIiwiaGlzdG9yaWNhbERhdGEiLCJoaXN0b3JpY2FsIiwicGVyaW9kMSIsIkRhdGUiLCJub3ciLCJwZXJpb2QyIiwiaW50ZXJ2YWwiLCJFcnJvciIsImxhc3QzMERheXMiLCJwcmljZXMiLCJkYXkiLCJjbG9zZSIsInRyYWluaW5nUHJlZGljdGlvbnMiLCJfIiwiaW5kZXgiLCJwcmV2UHJpY2VzIiwic21hNSIsInNtYTEwIiwidHJlbmQiLCJtZXRyaWNzIiwibGFzdFByaWNlIiwiY29uZmlkZW5jZUFkanVzdGVkVHJlbmQiLCJmb3JlY2FzdCIsIkFycmF5IiwiZmlsbCIsImxhc3REYXRlIiwiZGF0ZSIsImZvcmVjYXN0RGF0ZXMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJkYXRlcyIsInByZWRpY3Rpb25zIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/generalForecaster/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@sinclair","vendor-chunks/yahoo-finance2","vendor-chunks/psl","vendor-chunks/tough-cookie","vendor-chunks/url-parse","vendor-chunks/punycode","vendor-chunks/querystringify","vendor-chunks/universalify","vendor-chunks/requires-port"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgeneralForecaster%2Froute&page=%2Fapi%2FgeneralForecaster%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgeneralForecaster%2Froute.ts&appDir=E%3A%5CStock-App-JS%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CStock-App-JS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();